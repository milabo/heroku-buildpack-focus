#!/bin/sh

# ユーティリティ タイトル表示
title() {
    echo "---> $*"
}

# ユーティリティ サブタイトル表示
subtitle() {
    echo "     $*"
}

# globの拡張
# rmコマンドなどで「●●以外」という指定が可能になる
shopt -s extglob

# ここで何かをやってるが
# 何をしているかわからない

# ユーティリティ ディープコピー
deep-cp() {
  declare source="$1" target="$2"

  mkdir -p "$target"

  # cp doesn't like being called without source params,
  # so make sure they expand to something first.
  # subshell to avoid surprising caller with shopts.
  (
    shopt -s nullglob dotglob
    set -- "$source"/!(tmp|.|..)
    [[ $# == 0 ]] || cp -a "$@" "$target"
  )
}

# ユーティリティ ディープムーブ
deep-mv() {
  deep-cp "$1" "$2"
  deep-rm "$1"
}

# ユーティリティ ディープデリート
deep-rm() {
  # subshell to avoid surprising caller with shopts.
  (
    shopt -s dotglob
    rm -rf "$1"/!(tmp|.|..)
  )
}

# ここから本番？

BUILD_DIR=$1
CACHE_DIT=$2

APP_DIR="/app"